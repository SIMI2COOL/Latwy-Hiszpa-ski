import { VocabularyWord } from '@/types';

export const homeVocabulary: VocabularyWord[] = [
  // MEBLE (Muebles)
  { id: 'furn_001', polish: 'stÃ³Å‚', spanish: 'mesa', category: 'home', subcategory: 'furniture', difficulty: 'beginner' },
  { id: 'furn_002', polish: 'krzesÅ‚o', spanish: 'silla', category: 'home', subcategory: 'furniture', difficulty: 'beginner' },
  { id: 'furn_003', polish: 'kanapa', spanish: 'sofÃ¡', category: 'home', subcategory: 'furniture', difficulty: 'beginner' },
  { id: 'furn_004', polish: 'fotel', spanish: 'sillÃ³n', category: 'home', subcategory: 'furniture', difficulty: 'intermediate' },
  { id: 'furn_005', polish: 'Å‚Ã³Å¼ko', spanish: 'cama', category: 'home', subcategory: 'furniture', difficulty: 'beginner' },
  { id: 'furn_006', polish: 'szafa', spanish: 'armario', category: 'home', subcategory: 'furniture', difficulty: 'intermediate' },
  { id: 'furn_007', polish: 'komoda', spanish: 'cÃ³moda', category: 'home', subcategory: 'furniture', difficulty: 'intermediate' },
  { id: 'furn_008', polish: 'szafka nocna', spanish: 'mesita de noche', category: 'home', subcategory: 'furniture', difficulty: 'intermediate' },
  { id: 'furn_009', polish: 'regaÅ‚', spanish: 'estanterÃ­a', category: 'home', subcategory: 'furniture', difficulty: 'intermediate' },
  { id: 'furn_010', polish: 'biurko', spanish: 'escritorio', category: 'home', subcategory: 'furniture', difficulty: 'beginner' },

  // KUCHNIA (Cocina)
  { id: 'kitchen_001', polish: 'kuchenka', spanish: 'cocina', category: 'home', subcategory: 'kitchen', difficulty: 'beginner' },
  { id: 'kitchen_002', polish: 'piekarnik', spanish: 'horno', category: 'home', subcategory: 'kitchen', difficulty: 'intermediate' },
  { id: 'kitchen_003', polish: 'lodÃ³wka', spanish: 'nevera', category: 'home', subcategory: 'kitchen', difficulty: 'beginner' },
  { id: 'kitchen_004', polish: 'zamraÅ¼arka', spanish: 'congelador', category: 'home', subcategory: 'kitchen', difficulty: 'intermediate' },
  { id: 'kitchen_005', polish: 'zmywarka', spanish: 'lavavajillas', category: 'home', subcategory: 'kitchen', difficulty: 'intermediate' },
  { id: 'kitchen_006', polish: 'mikrofalÃ³wka', spanish: 'microondas', category: 'home', subcategory: 'kitchen', difficulty: 'intermediate' },
  { id: 'kitchen_007', polish: 'zlew', spanish: 'fregadero', category: 'home', subcategory: 'kitchen', difficulty: 'intermediate' },
  { id: 'kitchen_008', polish: 'kran', spanish: 'grifo', category: 'home', subcategory: 'kitchen', difficulty: 'intermediate' },
  { id: 'kitchen_009', polish: 'blat', spanish: 'encimera', category: 'home', subcategory: 'kitchen', difficulty: 'intermediate' },
  { id: 'kitchen_010', polish: 'szafka', spanish: 'armario', category: 'home', subcategory: 'kitchen', difficulty: 'beginner' },

  // ÅAZIENKA (BaÃ±o)
  { id: 'bath_001', polish: 'wanna', spanish: 'baÃ±era', category: 'home', subcategory: 'bathroom', difficulty: 'beginner' },
  { id: 'bath_002', polish: 'prysznic', spanish: 'ducha', category: 'home', subcategory: 'bathroom', difficulty: 'beginner' },
  { id: 'bath_003', polish: 'toaleta', spanish: 'inodoro', category: 'home', subcategory: 'bathroom', difficulty: 'beginner' },
  { id: 'bath_004', polish: 'umywalka', spanish: 'lavabo', category: 'home', subcategory: 'bathroom', difficulty: 'beginner' },
  { id: 'bath_005', polish: 'lustro', spanish: 'espejo', category: 'home', subcategory: 'bathroom', difficulty: 'beginner' },
  { id: 'bath_006', polish: 'mydÅ‚o', spanish: 'jabÃ³n', category: 'home', subcategory: 'bathroom', difficulty: 'beginner' },
  { id: 'bath_007', polish: 'szampon', spanish: 'champÃº', category: 'home', subcategory: 'bathroom', difficulty: 'beginner' },
  { id: 'bath_008', polish: 'rÄ™cznik', spanish: 'toalla', category: 'home', subcategory: 'bathroom', difficulty: 'beginner' },
  { id: 'bath_009', polish: 'szczoteczka do zÄ™bÃ³w', spanish: 'cepillo de dientes', category: 'home', subcategory: 'bathroom', difficulty: 'intermediate' },
  { id: 'bath_010', polish: 'pasta do zÄ™bÃ³w', spanish: 'pasta de dientes', category: 'home', subcategory: 'bathroom', difficulty: 'intermediate' },

  // POKOJE (Cuartos)
  { id: 'room_001', polish: 'pokÃ³j', spanish: 'habitaciÃ³n', category: 'home', subcategory: 'rooms', difficulty: 'beginner' },
  { id: 'room_002', polish: 'sypialnia', spanish: 'dormitorio', category: 'home', subcategory: 'rooms', difficulty: 'beginner' },
  { id: 'room_003', polish: 'salon', spanish: 'salÃ³n', category: 'home', subcategory: 'rooms', difficulty: 'beginner' },
  { id: 'room_004', polish: 'jadalnia', spanish: 'comedor', category: 'home', subcategory: 'rooms', difficulty: 'intermediate' },
  { id: 'room_005', polish: 'gabinet', spanish: 'despacho', category: 'home', subcategory: 'rooms', difficulty: 'intermediate' },
  { id: 'room_006', polish: 'przedpokÃ³j', spanish: 'recibidor', category: 'home', subcategory: 'rooms', difficulty: 'intermediate' },
  { id: 'room_007', polish: 'piwnica', spanish: 'sÃ³tano', category: 'home', subcategory: 'rooms', difficulty: 'intermediate' },
  { id: 'room_008', polish: 'strych', spanish: 'Ã¡tico', category: 'home', subcategory: 'rooms', difficulty: 'intermediate' },
  { id: 'room_009', polish: 'garaz', spanish: 'garaje', category: 'home', subcategory: 'rooms', difficulty: 'beginner' },
  { id: 'room_010', polish: 'balkon', spanish: 'balcÃ³n', category: 'home', subcategory: 'rooms', difficulty: 'beginner' },

  // OGRÃ“D (JardÃ­n)
  { id: 'garden_001', polish: 'ogrÃ³d', spanish: 'jardÃ­n', category: 'home', subcategory: 'garden', difficulty: 'beginner' },
  { id: 'garden_002', polish: 'trawa', spanish: 'cÃ©sped', category: 'home', subcategory: 'garden', difficulty: 'beginner' },
  { id: 'garden_003', polish: 'kwiat', spanish: 'flor', category: 'home', subcategory: 'garden', difficulty: 'beginner' },
  { id: 'garden_004', polish: 'drzewo', spanish: 'Ã¡rbol', category: 'home', subcategory: 'garden', difficulty: 'beginner' },
  { id: 'garden_005', polish: 'krzew', spanish: 'arbusto', category: 'home', subcategory: 'garden', difficulty: 'intermediate' },
  { id: 'garden_006', polish: 'ogrodzenie', spanish: 'valla', category: 'home', subcategory: 'garden', difficulty: 'intermediate' },
  { id: 'garden_007', polish: 'brama', spanish: 'puerta', category: 'home', subcategory: 'garden', difficulty: 'beginner' },
  { id: 'garden_008', polish: 'Å›cieÅ¼ka', spanish: 'sendero', category: 'home', subcategory: 'garden', difficulty: 'intermediate' },
  { id: 'garden_009', polish: 'Å‚awka', spanish: 'banco', category: 'home', subcategory: 'garden', difficulty: 'beginner' },
  { id: 'garden_010', polish: 'fontanna', spanish: 'fuente', category: 'home', subcategory: 'garden', difficulty: 'intermediate' },
];

export async function seedHomeVocabulary() {
  const { db } = await import('@/utils/database');

  try {
    // Fetch all existing words for this category
    const existingWordsInDb = await db.vocabulary.where('category').equals('home').toArray();
    const existingWordMap = new Map(existingWordsInDb.map(word => [word.id, word]));

    const wordsToAdd: typeof homeVocabulary = [];
    const wordsToUpdate: typeof homeVocabulary = [];

    for (const word of homeVocabulary) {
      const existing = existingWordMap.get(word.id);
      if (existing) {
        // Check if the Spanish translation needs updating
        if (existing.spanish !== word.spanish || existing.polish !== word.polish) {
          wordsToUpdate.push(word);
        }
      } else {
        wordsToAdd.push(word);
      }
    }

    if (wordsToAdd.length > 0) {
      await db.vocabulary.bulkAdd(wordsToAdd);
      console.log(`âœ… Added ${wordsToAdd.length} new home words`);
    }

    if (wordsToUpdate.length > 0) {
      await db.vocabulary.bulkPut(wordsToUpdate);
      console.log(`ðŸ”„ Updated ${wordsToUpdate.length} existing home words`);
    }

    // Always update total word count
    const totalCount = await db.vocabulary.where('category').equals('home').count();
    await db.categories.update('home', { totalWords: totalCount });
    console.log(`âœ… Home vocabulary: ${totalCount} total words (${homeVocabulary.length} in file)`);
    return true;
  } catch (error) {
    console.error('Error seeding home vocabulary:', error);
    return false;
  }
}
