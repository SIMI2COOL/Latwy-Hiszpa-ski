import { VocabularyWord } from '@/types';

export const transportVocabulary: VocabularyWord[] = [
  // SAMOCHÓD (Coche)
  { id: 'car_001', polish: 'samochód', spanish: 'coche', category: 'transport', subcategory: 'car', difficulty: 'beginner' },
  { id: 'car_002', polish: 'silnik', spanish: 'motor', category: 'transport', subcategory: 'car', difficulty: 'intermediate' },
  { id: 'car_003', polish: 'kierownica', spanish: 'volante', category: 'transport', subcategory: 'car', difficulty: 'intermediate' },
  { id: 'car_004', polish: 'pedał gazu', spanish: 'acelerador', category: 'transport', subcategory: 'car', difficulty: 'intermediate' },
  { id: 'car_005', polish: 'hamulec', spanish: 'freno', category: 'transport', subcategory: 'car', difficulty: 'intermediate' },
  { id: 'car_006', polish: 'sprzęgło', spanish: 'embrague', category: 'transport', subcategory: 'car', difficulty: 'advanced' },
  { id: 'car_007', polish: 'skrzynia biegów', spanish: 'caja de cambios', category: 'transport', subcategory: 'car', difficulty: 'advanced' },
  { id: 'car_008', polish: 'koło', spanish: 'rueda', category: 'transport', subcategory: 'car', difficulty: 'beginner' },
  { id: 'car_009', polish: 'opona', spanish: 'neumático', category: 'transport', subcategory: 'car', difficulty: 'intermediate' },
  { id: 'car_010', polish: 'światła', spanish: 'luces', category: 'transport', subcategory: 'car', difficulty: 'beginner' },
  { id: 'car_011', polish: 'lusterko', spanish: 'espejo', category: 'transport', subcategory: 'car', difficulty: 'intermediate' },
  { id: 'car_012', polish: 'pas bezpieczeństwa', spanish: 'cinturón de seguridad', category: 'transport', subcategory: 'car', difficulty: 'intermediate' },
  { id: 'car_013', polish: 'bagażnik', spanish: 'maletero', category: 'transport', subcategory: 'car', difficulty: 'intermediate' },
  { id: 'car_014', polish: 'maska', spanish: 'capó', category: 'transport', subcategory: 'car', difficulty: 'intermediate' },
  { id: 'car_015', polish: 'zderzak', spanish: 'parachoques', category: 'transport', subcategory: 'car', difficulty: 'intermediate' },
  { id: 'car_016', polish: 'szyba', spanish: 'parabrisas', category: 'transport', subcategory: 'car', difficulty: 'intermediate' },
  { id: 'car_017', polish: 'wycieraczki', spanish: 'limpiaparabrisas', category: 'transport', subcategory: 'car', difficulty: 'intermediate' },
  { id: 'car_018', polish: 'klimatyzacja', spanish: 'aire acondicionado', category: 'transport', subcategory: 'car', difficulty: 'intermediate' },

  // PROWADZENIE (Conducción)
  { id: 'driving_001', polish: 'prowadzić', spanish: 'conducir', category: 'transport', subcategory: 'driving', difficulty: 'beginner' },
  { id: 'driving_002', polish: 'kierowca', spanish: 'conductor', category: 'transport', subcategory: 'driving', difficulty: 'beginner' },
  { id: 'driving_003', polish: 'prawo jazdy', spanish: 'carné de conducir', category: 'transport', subcategory: 'driving', difficulty: 'intermediate' },
  { id: 'driving_004', polish: 'droga', spanish: 'carretera', category: 'transport', subcategory: 'driving', difficulty: 'beginner' },
  { id: 'driving_005', polish: 'autostrada', spanish: 'autopista', category: 'transport', subcategory: 'driving', difficulty: 'intermediate' },
  { id: 'driving_006', polish: 'ulica', spanish: 'calle', category: 'transport', subcategory: 'driving', difficulty: 'beginner' },
  { id: 'driving_007', polish: 'skrzyżowanie', spanish: 'intersección', category: 'transport', subcategory: 'driving', difficulty: 'intermediate' },
  { id: 'driving_008', polish: 'rondo', spanish: 'rotonda', category: 'transport', subcategory: 'driving', difficulty: 'intermediate' },
  { id: 'driving_009', polish: 'sygnalizacja świetlna', spanish: 'semáforo', category: 'transport', subcategory: 'driving', difficulty: 'intermediate' },
  { id: 'driving_010', polish: 'znak drogowy', spanish: 'señal de tráfico', category: 'transport', subcategory: 'driving', difficulty: 'intermediate' },
  { id: 'driving_011', polish: 'parking', spanish: 'aparcamiento', category: 'transport', subcategory: 'driving', difficulty: 'beginner' },
  { id: 'driving_012', polish: 'parkować', spanish: 'aparcar', category: 'transport', subcategory: 'driving', difficulty: 'beginner' },
  { id: 'driving_013', polish: 'wyprzedzać', spanish: 'adelantar', category: 'transport', subcategory: 'driving', difficulty: 'intermediate' },
  { id: 'driving_014', polish: 'zatrzymać się', spanish: 'parar', category: 'transport', subcategory: 'driving', difficulty: 'beginner' },
  { id: 'driving_015', polish: 'mandat', spanish: 'multa', category: 'transport', subcategory: 'driving', difficulty: 'intermediate' },

  // STACJA BENZYNOWA (Gasolinera)
  { id: 'gas_001', polish: 'stacja benzynowa', spanish: 'gasolinera', category: 'transport', subcategory: 'gas-station', difficulty: 'intermediate' },
  { id: 'gas_002', polish: 'benzyna', spanish: 'gasolina', category: 'transport', subcategory: 'gas-station', difficulty: 'beginner' },
  { id: 'gas_003', polish: 'diesel', spanish: 'diésel', category: 'transport', subcategory: 'gas-station', difficulty: 'intermediate' },
  { id: 'gas_004', polish: 'tankować', spanish: 'repostar', category: 'transport', subcategory: 'gas-station', difficulty: 'intermediate' },
  { id: 'gas_005', polish: 'pełny bak', spanish: 'depósito lleno', category: 'transport', subcategory: 'gas-station', difficulty: 'intermediate' },
  { id: 'gas_006', polish: 'dystrybutor', spanish: 'bomba', category: 'transport', subcategory: 'gas-station', difficulty: 'intermediate' },
  { id: 'gas_007', polish: 'olej', spanish: 'aceite', category: 'transport', subcategory: 'gas-station', difficulty: 'intermediate' },
  { id: 'gas_008', polish: 'sprawdzić olej', spanish: 'revisar el aceite', category: 'transport', subcategory: 'gas-station', difficulty: 'intermediate' },
  { id: 'gas_009', polish: 'ciśnienie w oponach', spanish: 'presión de los neumáticos', category: 'transport', subcategory: 'gas-station', difficulty: 'advanced' },
  { id: 'gas_010', polish: 'płyn do spryskiwaczy', spanish: 'líquido limpiaparabrisas', category: 'transport', subcategory: 'gas-station', difficulty: 'advanced' },

  // AUTOBUS (Autobús)
  { id: 'bus_001', polish: 'autobus', spanish: 'autobús', category: 'transport', subcategory: 'bus', difficulty: 'beginner' },
  { id: 'bus_002', polish: 'przystanek', spanish: 'parada de autobús', category: 'transport', subcategory: 'bus', difficulty: 'intermediate' },
  { id: 'bus_003', polish: 'rozkład jazdy', spanish: 'horario', category: 'transport', subcategory: 'bus', difficulty: 'intermediate' },
  { id: 'bus_004', polish: 'bilet', spanish: 'billete', category: 'transport', subcategory: 'bus', difficulty: 'beginner' },
  { id: 'bus_005', polish: 'kierowca autobusu', spanish: 'conductor de autobús', category: 'transport', subcategory: 'bus', difficulty: 'intermediate' },
  { id: 'bus_006', polish: 'pasażer', spanish: 'pasajero', category: 'transport', subcategory: 'bus', difficulty: 'intermediate' },
  { id: 'bus_007', polish: 'wsiadać', spanish: 'subir', category: 'transport', subcategory: 'bus', difficulty: 'intermediate' },
  { id: 'bus_008', polish: 'wysiadać', spanish: 'bajar', category: 'transport', subcategory: 'bus', difficulty: 'intermediate' },
  { id: 'bus_009', polish: 'tramwaj', spanish: 'tranvía', category: 'transport', subcategory: 'bus', difficulty: 'intermediate' },
  { id: 'bus_010', polish: 'metro', spanish: 'metro', category: 'transport', subcategory: 'bus', difficulty: 'beginner' },

  // POCIĄG (Tren)
  { id: 'train_001', polish: 'pociąg', spanish: 'tren', category: 'transport', subcategory: 'train', difficulty: 'beginner' },
  { id: 'train_002', polish: 'dworzec', spanish: 'estación de tren', category: 'transport', subcategory: 'train', difficulty: 'intermediate' },
  { id: 'train_003', polish: 'peron', spanish: 'andén', category: 'transport', subcategory: 'train', difficulty: 'intermediate' },
  { id: 'train_004', polish: 'tor', spanish: 'vía', category: 'transport', subcategory: 'train', difficulty: 'intermediate' },
  { id: 'train_005', polish: 'wagon', spanish: 'vagón', category: 'transport', subcategory: 'train', difficulty: 'intermediate' },
  { id: 'train_006', polish: 'przedział', spanish: 'compartimento', category: 'transport', subcategory: 'train', difficulty: 'advanced' },
  { id: 'train_007', polish: 'miejscówka', spanish: 'reserva de asiento', category: 'transport', subcategory: 'train', difficulty: 'advanced' },
  { id: 'train_008', polish: 'konduktor', spanish: 'revisor', category: 'transport', subcategory: 'train', difficulty: 'intermediate' },
  { id: 'train_009', polish: 'odprawa', spanish: 'salida', category: 'transport', subcategory: 'train', difficulty: 'intermediate' },
  { id: 'train_010', polish: 'przyjazd', spanish: 'llegada', category: 'transport', subcategory: 'train', difficulty: 'intermediate' },

  // LOTNISKO (Aeropuerto)
  { id: 'airport_001', polish: 'lotnisko', spanish: 'aeropuerto', category: 'transport', subcategory: 'airport', difficulty: 'beginner' },
  { id: 'airport_002', polish: 'samolot', spanish: 'avión', category: 'transport', subcategory: 'airport', difficulty: 'beginner' },
  { id: 'airport_003', polish: 'lot', spanish: 'vuelo', category: 'transport', subcategory: 'airport', difficulty: 'beginner' },
  { id: 'airport_004', polish: 'odprawa', spanish: 'facturación', category: 'transport', subcategory: 'airport', difficulty: 'intermediate' },
  { id: 'airport_005', polish: 'karta pokładowa', spanish: 'tarjeta de embarque', category: 'transport', subcategory: 'airport', difficulty: 'intermediate' },
  { id: 'airport_006', polish: 'bagaż', spanish: 'equipaje', category: 'transport', subcategory: 'airport', difficulty: 'intermediate' },
  { id: 'airport_007', polish: 'bagaż podręczny', spanish: 'equipaje de mano', category: 'transport', subcategory: 'airport', difficulty: 'intermediate' },
  { id: 'airport_008', polish: 'kontrola bezpieczeństwa', spanish: 'control de seguridad', category: 'transport', subcategory: 'airport', difficulty: 'advanced' },
  { id: 'airport_009', polish: 'bramka', spanish: 'puerta', category: 'transport', subcategory: 'airport', difficulty: 'intermediate' },
  { id: 'airport_010', polish: 'start', spanish: 'despegue', category: 'transport', subcategory: 'airport', difficulty: 'intermediate' },
  { id: 'airport_011', polish: 'lądowanie', spanish: 'aterrizaje', category: 'transport', subcategory: 'airport', difficulty: 'intermediate' },
  { id: 'airport_012', polish: 'stewardesa', spanish: 'azafata', category: 'transport', subcategory: 'airport', difficulty: 'intermediate' },
  { id: 'airport_013', polish: 'pilot', spanish: 'piloto', category: 'transport', subcategory: 'airport', difficulty: 'beginner' },
  { id: 'airport_014', polish: 'opóźnienie', spanish: 'retraso', category: 'transport', subcategory: 'airport', difficulty: 'intermediate' },
  { id: 'airport_015', polish: 'odwołanie', spanish: 'cancelación', category: 'transport', subcategory: 'airport', difficulty: 'advanced' },

  // ROWER (Bicicleta)
  { id: 'bicycle_001', polish: 'rower', spanish: 'bicicleta', category: 'transport', subcategory: 'bicycle', difficulty: 'beginner' },
  { id: 'bicycle_002', polish: 'kierownica', spanish: 'manillar', category: 'transport', subcategory: 'bicycle', difficulty: 'intermediate' },
  { id: 'bicycle_003', polish: 'siodełko', spanish: 'sillín', category: 'transport', subcategory: 'bicycle', difficulty: 'intermediate' },
  { id: 'bicycle_004', polish: 'pedał', spanish: 'pedal', category: 'transport', subcategory: 'bicycle', difficulty: 'intermediate' },
  { id: 'bicycle_005', polish: 'łańcuch', spanish: 'cadena', category: 'transport', subcategory: 'bicycle', difficulty: 'intermediate' },
  { id: 'bicycle_006', polish: 'hamulec', spanish: 'freno', category: 'transport', subcategory: 'bicycle', difficulty: 'intermediate' },
  { id: 'bicycle_007', polish: 'dzwonek', spanish: 'timbre', category: 'transport', subcategory: 'bicycle', difficulty: 'intermediate' },
  { id: 'bicycle_008', polish: 'światło', spanish: 'luz', category: 'transport', subcategory: 'bicycle', difficulty: 'beginner' },
  { id: 'bicycle_009', polish: 'kask', spanish: 'casco', category: 'transport', subcategory: 'bicycle', difficulty: 'intermediate' },
  { id: 'bicycle_010', polish: 'ścieżka rowerowa', spanish: 'carril bici', category: 'transport', subcategory: 'bicycle', difficulty: 'intermediate' },
];

export async function seedTransportVocabulary() {
  const { db } = await import('@/utils/database');
  
  try {
    // Get existing transport vocabulary IDs
    const existingTransport = await db.vocabulary.where('category').equals('transport').toArray();
    const existingIds = new Set(existingTransport.map(w => w.id));
    
    // Update existing words with correct Spanish translations
    const wordsToUpdate = transportVocabulary.filter(word => existingIds.has(word.id));
    for (const word of wordsToUpdate) {
      await db.vocabulary.update(word.id, { spanish: word.spanish });
    }
    
    // Filter out words that already exist
    const newWords = transportVocabulary.filter(word => !existingIds.has(word.id));
    
    if (newWords.length > 0) {
      await db.vocabulary.bulkAdd(newWords);
      console.log(`✅ Added ${newWords.length} new transport words`);
    }
    
    // Always update total word count
    const totalCount = await db.vocabulary.where('category').equals('transport').count();
    await db.categories.update('transport', { totalWords: totalCount });
    console.log(`✅ Transport vocabulary: ${totalCount} total words (${transportVocabulary.length} in file)`);
    return true;
  } catch (error) {
    if (error instanceof Error && error.name === 'ConstraintError') {
      // Some words might already exist, try to add the rest
      const existingTransport = await db.vocabulary.where('category').equals('transport').toArray();
      const existingIds = new Set(existingTransport.map(w => w.id));
      
      // Update existing words
      const wordsToUpdate = transportVocabulary.filter(word => existingIds.has(word.id));
      for (const word of wordsToUpdate) {
        await db.vocabulary.update(word.id, { spanish: word.spanish });
      }
      
      const newWords = transportVocabulary.filter(word => !existingIds.has(word.id));
      
      if (newWords.length > 0) {
        try {
          await db.vocabulary.bulkAdd(newWords);
        } catch (e) {
          console.error('Error adding remaining transport words:', e);
        }
      }
      
      // Always update total word count
      const totalCount = await db.vocabulary.where('category').equals('transport').count();
      await db.categories.update('transport', { totalWords: totalCount });
      console.log(`✅ Transport vocabulary: ${totalCount} total words`);
      return true;
    }
    console.error('Error seeding transport vocabulary:', error);
    return false;
  }
}
